<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (9.0.4) on Wed Mar 14 10:56:17 MDT 2018 -->
<title>Query</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2018-03-14">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-1.10.2.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Query";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../../";loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/MarkLogicRepository.html" title="interface in org.malteseduck.springframework.data.marklogic.repository"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/malteseduck/springframework/data/marklogic/repository/Query.html" target="_top">Frames</a></li>
<li><a href="Query.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><span>SEARCH:&nbsp;</span>
<input type="text" id="search" value=" " disabled="disabled">
<input type="reset" id="reset" value=" " disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/package-summary.html">org.malteseduck.springframework.data.marklogic.repository</a></div>
<h2 title="Annotation Type Query" class="title">Annotation Type Query</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@Retention(RUNTIME)
@Target({METHOD,ANNOTATION_TYPE})
@Documented
public @interface <span class="memberNameLabel">Query</span></pre>
<div class="block">Declare QBE queries directly on repository methods. This allows cleaner queries for more complex cases. This also
 allows the "tweaking" of basic search parameters in a repository interface without having to use MarkLogicTemplate
 directly to set them.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Optional Element</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#extract--">extract</a></span></code></th>
<td class="colLast">
<div class="block">Defines the properties that should be returned for the given query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>com.marklogic.client.io.Format</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#format--">format</a></span></code></th>
<td class="colLast">
<div class="block">The document format to match, either XML or JSON.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#options--">options</a></span></code></th>
<td class="colLast">
<div class="block">To specify any query options to use in the query.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#optionsName--">optionsName</a></span></code></th>
<td class="colLast">
<div class="block">Instead of specifying limited query options individually you can persist an options configuration to the database
 and just reference it to be used in the query.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#query--">query</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/query/SelectedMode.html" title="enum in org.malteseduck.springframework.data.marklogic.repository.query">SelectedMode</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#selected--">selected</a></span></code></th>
<td class="colLast">
<div class="block">Used in conjunction with the extract paths.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#transform--">transform</a></span></code></th>
<td class="colLast">
<div class="block">The name of a transform to use when returning/saving documents (depends on the type of operations that is annotated).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.Class&lt;? extends <a href="../../../../../../org/malteseduck/springframework/data/marklogic/core/convert/ServerTransformer.html" title="interface in org.malteseduck.springframework.data.marklogic.core.convert">ServerTransformer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#transformer--">transformer</a></span></code></th>
<td class="colLast">
<div class="block">If you need the ability to create a full ServerTransform then you can specify a ServerTransformer implementation
 that will generate the reader() and writer() transformers.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/query/QueryType.html" title="enum in org.malteseduck.springframework.data.marklogic.repository.query">QueryType</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#type--">type</a></span></code></th>
<td class="colLast">
<div class="block">Sometimes it is better to force the use of a range index for equality checks (to point to specific properties instead of
 any property in a hierarchy).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/Query.html#value--">value</a></span></code></th>
<td class="colLast">
<div class="block">Takes a MarkLogic QBE JSON string to define the actual query to be executed.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a id="value--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>value</h4>
<pre>@AliasFor("query")
java.lang.String&nbsp;value</pre>
<div class="block">Takes a MarkLogic QBE JSON string to define the actual query to be executed. This one will take precedence over the
 method name then.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="query--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>@AliasFor("value")
java.lang.String&nbsp;query</pre>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="type--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>type</h4>
<pre><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/query/QueryType.html" title="enum in org.malteseduck.springframework.data.marklogic.repository.query">QueryType</a>&nbsp;type</pre>
<div class="block">Sometimes it is better to force the use of a range index for equality checks (to point to specific properties instead of
 any property in a hierarchy).  This allows the ability to do so.  Changing to the RANGE type would require a range index
 created, and possible the @Indexed attribute with the path set on the property in the POJO class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>org.malteseduck.springframework.data.marklogic.repository.query.QueryType.VALUE</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="format--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre>com.marklogic.client.io.Format&nbsp;format</pre>
<div class="block">The document format to match, either XML or JSON.  Currently can't match a mix using this approach, you would need
 a StructuredQueryDefinition using the query builder in order to match both formats.  Using the MarkLogic
 <code>Format</code> instead of <a href="../../../../../../org/malteseduck/springframework/data/marklogic/core/mapping/DocumentFormat.html" title="enum in org.malteseduck.springframework.data.marklogic.core.mapping"><code>DocumentFormat</code></a>
 since we allow "UNKNOWN" as the default.

 Setting this to "UNKNOWN", BINARY" OR "TEXT" would just end up setting the queries as JSON format, since that is
 default query "language"</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>com.marklogic.client.io.Format.UNKNOWN</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="extract--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extract</h4>
<pre>java.lang.String[]&nbsp;extract</pre>
<div class="block">Defines the properties that should be returned for the given query. Note that only these properties will make it into the
 domain object returned.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="selected--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>selected</h4>
<pre><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/query/SelectedMode.html" title="enum in org.malteseduck.springframework.data.marklogic.repository.query">SelectedMode</a>&nbsp;selected</pre>
<div class="block">Used in conjunction with the extract paths.  This determines how the extracted nodes are returned.  By default this
 returns specified nodes in their original hierarchy, but you can also specify to just return the extracted nodes, or to
 exclude the specified nodes.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>org.malteseduck.springframework.data.marklogic.repository.query.SelectedMode.HIERARCHICAL</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="options--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>options</h4>
<pre>java.lang.String[]&nbsp;options</pre>
<div class="block">To specify any query options to use in the query.  Since the query could end up as a range query or a text query of some
 kind, or MarkLogic could add additional options, this is not limited by an enumeration but the query will fail with
 incorrect options.  These options are applied to all the value/range/text queries that are created, so if fine-
 tuning is required at that level a custom Repository is required.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="optionsName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>optionsName</h4>
<pre>java.lang.String&nbsp;optionsName</pre>
<div class="block">Instead of specifying limited query options individually you can persist an options configuration to the database
 and just reference it to be used in the query.  This allows full configuration of the query for the annotated query.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="transform--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transform</h4>
<pre>java.lang.String&nbsp;transform</pre>
<div class="block">The name of a transform to use when returning/saving documents (depends on the type of operations that is annotated).
 This transform must have been previously configured through the REST API otherwise the operation will fail.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>""</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="transformer--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>transformer</h4>
<pre>java.lang.Class&lt;? extends <a href="../../../../../../org/malteseduck/springframework/data/marklogic/core/convert/ServerTransformer.html" title="interface in org.malteseduck.springframework.data.marklogic.core.convert">ServerTransformer</a>&gt;&nbsp;transformer</pre>
<div class="block">If you need the ability to create a full ServerTransform then you can specify a ServerTransformer implementation
 that will generate the reader() and writer() transformers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
<dl>
<dt>Default:</dt>
<dd>org.malteseduck.springframework.data.marklogic.core.convert.ServerTransformer.class</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/malteseduck/springframework/data/marklogic/repository/MarkLogicRepository.html" title="interface in org.malteseduck.springframework.data.marklogic.repository"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/malteseduck/springframework/data/marklogic/repository/Query.html" target="_top">Frames</a></li>
<li><a href="Query.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
